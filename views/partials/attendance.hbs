<div class="container">
    <div class="row container">
        <h1>Select a Course</h1> &nbsp;&nbsp;
        <button class="btn-dark btn" style="height: min-content;" data-toggle="modal" data-target="#addCourseModal">Add
            Course</button>
    </div>
    <br>
    <div class="row">
        {{#each data}}
        {{#each this}}
        {{#if this.name}}
        <div class="col-sm-6">
            <div class="card">
                <img class="card-img-top" style="height: 10rem;" src="/img/squ.jpeg" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title">{{this.name}}</h5> 
                    <div class="row">
                    <a href="/takeattendance?name={{this.name}}" class="btn btn-success">Take Attendance</a> &nbsp;&nbsp;
                    Total No of Class : {{this.noOfClass}}
                     &nbsp;&nbsp;
                     Total Fee : {{this.fee}} &nbsp;&nbsp;
                     <button type="button" class="btn btn-dark" id="{{this.name}}" data-toggle="modal" data-target="#editModal" onclick="editcourse(this.id)">
                        <i class="fs-4 bi-pencil-square"></i>
                    </button>
                    </div>
                </div>
            </div>
        </div>
        {{/if}}
        {{/each}}
        {{/each}}
    </div>
</div>

{{#each data}}
{{#each this}}
{{#if this.name}}
<input type="text" name="" id="fees{{this.name}}" hidden value="{{this.fee}}">
<input type="text" name="" id="nos{{this.name}}" hidden value="{{this.noOfClass}}">
{{/if}}
{{/each}}
{{/each}}




<!--modal-->


<div class="modal fade" id="addCourseModal" tabindex="-1" role="dialog" aria-labelledby="addCourseModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addCourseModalLabel">Add Course</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form  action="/addcourse" method="post">
                    <div class="form-group">
                        <label for="courseName">Course Name:</label>
                        <input type="text" class="form-control" id="courseName" name="course"
                            placeholder="Enter Course Name" required>
                        <label for="courseName">Course Fee:</label>
                        <input type="text" name="fee" class="form-control" id="" required placeholder="Enter Total Fee">
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!--modal-->


<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Edit Course</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form  action="/editcourse" method="post">
                    <div class="form-group">
                        
                        <input type="text" class="form-control" id="courseu" name="course"
                            placeholder="Enter Course Name" hidden>
                        <label for="courseName">Total No of Class:</label>
                        <input type="text" class="form-control" id="nou" name="nos"
                            placeholder="Enter Course fee" required>

                        <label for="courseName">Total Fee:</label>
                        <input type="text" class="form-control" id="feeu" name="fee"
                            placeholder="Enter Course fee" required>
                        
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    function editcourse(id){
        //alert(id)
        document.getElementById("feeu").value = document.getElementById("fees"+id).value;
        document.getElementById("nou").value = document.getElementById("nos"+id).value;
        document.getElementById("courseu").value = id;
    }
</script>